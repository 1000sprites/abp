<Project Sdk="Microsoft.NET.Sdk.Web">

    <Import Project="..\..\..\..\configureawait.props" />
    <Import Project="..\..\..\..\common.props" />

    <PropertyGroup>
        <TargetFramework>netcoreapp3.1</TargetFramework>
        <AssemblyName>Volo.Blogging.Admin.Web</AssemblyName>
        <PackageId>Volo.Blogging.Admin.Web</PackageId>
        <TypeScriptToolsVersion>2.8</TypeScriptToolsVersion>
        <OutputType>Library</OutputType>
        <IsPackable>true</IsPackable>
        <RootNamespace>Volo.Blogging.Admin</RootNamespace>
    </PropertyGroup>

    <ItemGroup>
        <ProjectReference Include="..\..\..\..\framework\src\Volo.Abp.AspNetCore.Mvc.UI.Bootstrap\Volo.Abp.AspNetCore.Mvc.UI.Bootstrap.csproj" />
        <ProjectReference Include="..\..\..\..\framework\src\Volo.Abp.AspNetCore.Mvc.UI.Packages\Volo.Abp.AspNetCore.Mvc.UI.Packages.csproj" />
        <ProjectReference Include="..\..\..\..\framework\src\Volo.Abp.AspNetCore.Mvc.UI.Bundling\Volo.Abp.AspNetCore.Mvc.UI.Bundling.csproj" />
        <ProjectReference Include="..\..\..\..\framework\src\Volo.Abp.AutoMapper\Volo.Abp.AutoMapper.csproj" />
        <ProjectReference Include="..\Volo.Blogging.Admin.HttpApi\Volo.Blogging.Admin.HttpApi.csproj" />
        <PackageReference Include="Markdig.Signed" Version="0.18.0" />
    </ItemGroup>

    <ItemGroup>
        <EmbeddedResource Include="Pages\**\*.js" />
        <EmbeddedResource Include="Pages\**\*.css" />
        <Content Remove="Pages\**\*.js" />
        <Content Remove="Pages\**\*.css" />
        <Content Remove="compilerconfig.json" />
        <Content Remove="Properties\launchSettings.json" />
        <Content Update="Pages\Admin\Blogs\Create.cshtml">
          <ExcludeFromSingleFile>true</ExcludeFromSingleFile>
          <CopyToPublishDirectory>PreserveNewest</CopyToPublishDirectory>
        </Content>
        <Content Update="Pages\Admin\Blogs\Edit.cshtml">
          <ExcludeFromSingleFile>true</ExcludeFromSingleFile>
          <CopyToPublishDirectory>PreserveNewest</CopyToPublishDirectory>
        </Content>
        <Content Update="Pages\Admin\Blogs\Index.cshtml">
          <ExcludeFromSingleFile>true</ExcludeFromSingleFile>
          <CopyToPublishDirectory>PreserveNewest</CopyToPublishDirectory>
        </Content>
        <EmbeddedResource Update="Pages\Blogs\Posts\Index.min.css">
          <DependentUpon>Index.css</DependentUpon>
        </EmbeddedResource>
        <EmbeddedResource Update="Pages\Blogs\Posts\new.min.css">
          <DependentUpon>new.css</DependentUpon>
        </EmbeddedResource>
        <EmbeddedResource Update="Pages\Blogs\Shared\Styles\blog.min.css">
          <DependentUpon>blog.css</DependentUpon>
        </EmbeddedResource>
        <EmbeddedResource Update="Pages\Blogs\Shared\Styles\_home.min.css">
          <DependentUpon>_home.css</DependentUpon>
        </EmbeddedResource>
        <Content Update="Pages\_ViewImports.cshtml">
          <ExcludeFromSingleFile>true</ExcludeFromSingleFile>
          <CopyToPublishDirectory>PreserveNewest</CopyToPublishDirectory>
        </Content>
    </ItemGroup>

    <ItemGroup>
      <None Include="compilerconfig.json" />
      <None Include="Properties\launchSettings.json" />
      <None Update="Pages\Blogs\Posts\new.css.map">
        <DependentUpon>new.css</DependentUpon>
      </None>
      <None Update="Pages\Blogs\Shared\Styles\blog.css.map">
        <DependentUpon>blog.css</DependentUpon>
      </None>
    </ItemGroup>

    <ItemGroup>
      <Compile Update="Pages\Admin\Blogs\Create.cshtml.cs">
        <DependentUpon>Create.cshtml</DependentUpon>
      </Compile>
      <Compile Update="Pages\Admin\Blogs\Edit.cshtml.cs">
        <DependentUpon>Edit.cshtml</DependentUpon>
      </Compile>
      <Compile Update="Pages\Admin\Blogs\Index.cshtml.cs">
        <DependentUpon>Index.cshtml</DependentUpon>
      </Compile>
    </ItemGroup>

</Project>
